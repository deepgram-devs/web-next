---
import Icon from "../general/Icon.astro";
import Button from "../general/Button.astro";

const { name, gridClass, primary } = Astro.props;
---

<div class="relative" x-data={`{ name: '${name}' }`}>
	<Button
		icon="angle-down"
		x-on:click={`menu === name ? menu = null : menu = name`}
		x-bind:class="{'button--active': menu === name }"
		iconSuffix
		class="button button--small button--main-nav button--nav-underline small-icon font-medium"
		>{name}
	</Button>

	<div class="absolute flex -ml-20 mt-[1.2rem] min-h-80" style="display: none;" x-show="menu === name">
		{primary && (
			<div class="bg-darkCharcoal min-w-[44.75rem] pt-4 sm:p-8">
				<slot name="primary" />
			</div>
		)}
		<div class={`bg-ink grid px-10 py-8 gap-8 ${gridClass ? gridClass : "lg:grid-cols-2"}`}>
			<slot />
		</div>
	</div>
</div>

<style scoped>
	.bg-highlight {
		background: linear-gradient(311.36deg, #0a6252 15.18%, #253174 48.31%, #743539 85.19%);
	}
</style>
