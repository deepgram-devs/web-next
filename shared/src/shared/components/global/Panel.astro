---
import Icon from "../general/Icon.astro";
import { renderRichText } from "@storyblok/astro";
const { blok = { type: "info", fill: "fill-black", title: "Information" } } = Astro.props;
const { type, title, fill } = blok;
let renderedRichText;
if (blok.inner_html) {
	renderedRichText = renderRichText(blok.inner_html);
}
---

<div class={`panel ${type}`}>
	<div class="heading">
		<div class="p-2">
			<Icon class={`icon h-6 w-6 ${type === "info" ? "fill-casper" : type === "warning" ? "fill-sunflower" : fill}`} icon={type} />
		</div>
		<div class="title">
			{title}
		</div>
	</div>

	<div class="text">
		<slot>
			<div set:html={renderedRichText} />
		</slot>
	</div>
</div>

<style scoped>
	.panel {
		@apply flex flex-row flex-wrap align-middle;
		@apply text-sm text-[#8d8b8b];
		@apply my-4;
	}

	.heading {
		@apply border-grass border-b;
		@apply w-full;
		@apply flex flex-row flex-wrap;
		@apply ml-0 my-0;
		/* @apply ml-4; */
	}
	.icon {
		@apply flex flex-col flex-wrap align-middle;
		@apply m-1 border-0;
	}
	.info {
		@apply border-grass rounded-sm border-2;
		/* @apply bg-casper/20; */
	}

	.warning {
		@apply border-sunflower/20 rounded-sm border;
		@apply bg-sunflower/20;
	}

	.title {
		@apply flex flex-wrap;
		@apply m-4;
		@apply w-4/6 md:w-5/6;
		@apply font-semibold;
	}

	.text {
		@apply ml-3.5 mr-1 w-full py-1;
		@apply w-11/12;
	}

	p + p,
	p + ul,
	p + ol,
	p + h3,
	p + h4 {
		@apply mt-0;
	}

	.text :global(ul > li) {
		@apply list-disc;
	}

	.text :global(ol > li) {
		@apply list-decimal;
	}

	.text :global(li) {
		@apply ml-10 pb-1 pl-7;
	}

	.text :global(p) {
		@apply py-0;
	}

	.text :global(p:first-of-type) {
		@apply pt-0;
	}
</style>
