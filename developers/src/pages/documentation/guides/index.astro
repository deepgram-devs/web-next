---
import BlogCardList from "../../../shared/components/lists/BlogCardList.astro";
import DocsCard from "../../../shared/components/cards/DocsCard.astro";
import Layout from "../../../layouts/Documentation.astro";

const guides = await Astro.glob("./**/index.mdx");

const performanceGuides = guides.filter((guide) => {
	return guide.frontmatter.type === "performance";
});

const transcriptionGuides = guides.filter((guide) => {
	return guide.frontmatter.type === "transcription";
});

const migrationGuides = guides.filter((guide) => {
	return guide.frontmatter.type === "migration";
});
---

<Layout>
	<article>
		<h1>Deepgram Guides</h1>
		<BlogCardList>
			<h2 slot="title" class="text-stone uppercase">Migration</h2>
			{migrationGuides.map((guide) => <DocsCard class={`w-full flex flex-col`} doc={guide} />)}
		</BlogCardList>
		<BlogCardList>
			<h2 slot="title" class="text-stone uppercase">Transcription</h2>
			{transcriptionGuides.map((guide) => <DocsCard class={`w-full flex flex-col`} doc={guide} />)}
		</BlogCardList>
		<BlogCardList>
			<h2 slot="title" class="text-stone uppercase">Measuring Performance</h2>
			{performanceGuides.map((guide) => <DocsCard class={`w-full flex flex-col`} doc={guide} />)}
		</BlogCardList>
	</article>
</Layout>

<style>
	h1 {
		color: #111827;
		font-weight: 700;
		font-size: 2.25em;
		margin-top: 1.5rem;
		margin-bottom: 0.75rem;
		line-height: 1.1111111;
		font-family: Favorit;
	}
	h2 {
		@apply mb-5 mt-10;
		color: #111827;
		font-weight: 700;
		font-size: 1.5em;
		line-height: 1.3333333;
		font-family: Favorit;
	}
</style>
