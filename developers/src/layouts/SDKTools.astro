---
import Default from "./Default.astro";
import PrimarySection from "../shared/components/layout/PrimarySection.astro";
import Prose from "./Prose.astro";
import HasAside from "../shared/components/layout/HasAside.astro";
import SideNav from "../shared/components/nav/SideNav";
import BreadCrumb from "../shared/components/nav/BreadCrumb.astro";

import nodeNav from "../pages/sdks-tools/sdks/node-sdk/navigation.json";
import pythonNav from "../pages/sdks-tools/sdks/python-sdk/navigation.json";
import dotNetNav from "../pages/sdks-tools/sdks/dotnet-sdk/navigation.json";
import "../assets/styles/developers.css";
const pathname = Astro.url.pathname;

let sdk;
const dotnet = 'dotnet-sdk';
const python = 'python-sdk'
const node = 'node-sdk'
const a = pathname.split('/')

if(a.includes(dotnet)){
	sdk = 'dotnet'
} else if (a.includes(python)){
	sdk = 'python'
} else if (a.includes(node)){
	sdk = 'node'
}
---

<Default>
	<PrimarySection class="max-w-full md:max-w-[56rem] lg:max-w-[64rem] xl:max-w-[72rem] 2xl:max-w-[80rem]">
		<HasAside>
			{
				sdk === 'node' ?
				<SideNav slot="aside" navStructure={nodeNav} navTitle="Documentation" pathname={pathname} />
				: sdk === 'python' ?
				<SideNav slot="aside" navStructure={pythonNav} navTitle="Documentation" pathname={pathname} />
				: sdk === 'dotnet' ?
				<SideNav slot="aside" navStructure={dotNetNav} navTitle="Documentation" pathname={pathname} />
				: null
			}

			<PrimarySection class="py-10">
				<BreadCrumb />
				<Prose><slot /></Prose>
			</PrimarySection>
		</HasAside>
	</PrimarySection>
</Default>

<style is:global>
	/* .side-nav ul {
		@apply ml-4;
	}

	.side-nav ul li.active > .navlink-container a {
		@apply text-darkCharcoal;
		@apply font-bold;
		@apply border-l-4 border-meadow;
	}
	.side-nav ul li ul li.active > .navlink-container a {
		@apply border-r-4 border-meadow border-l-0 w-full;
	} */
</style>
