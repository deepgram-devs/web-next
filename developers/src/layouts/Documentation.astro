---
import Default from "./Default.astro";
import PrimarySection from "../shared/components/layout/PrimarySection.astro";
import Prose from "./Prose.astro";
import HasAside from "../shared/components/layout/HasAside.astro";
import SideNav from "../shared/components/nav/SideNav.jsx";
import BreadCrumb from "../shared/components/nav/BreadCrumb.astro";
import TableOfContents from "../shared/components/nav/TableOfContents.astro";
import nav from "../pages/documentation/navigation.json";
import "../assets/styles/developers.css";
const pathname = Astro.url.pathname;
const { headings } = Astro.props
---

<Default>
	<PrimarySection class="max-w-full xl:max-w-[72rem] 2xl:max-w-[80rem] px-0">
		<HasAside gridClass="flex">
			<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
				<div class="col-span-1">
					<SideNav slot="aside" navStructure={nav} navTitle="Documentation" pathname={pathname} />
				</div>
				<div class="col-span-4 sm:col-span-2 lg:col-span-3 w-11/12 lg:w-full ml-8">
					<PrimarySection class="py-10">
						<BreadCrumb />
						<div class="flex">
							<Prose class="max-w-full lg:max-w-2xl">
								<slot />
							</Prose>
							<div class="col-span-0">
								<TableOfContents headings={headings} docsType={'GUIDE'} />
							</div>
						</div>		
					</PrimarySection>
				</div>
			</div>
		</HasAside>
	</PrimarySection>
</Default>

<style is:global>
	.side-nav ul {
		@apply ml-4;
	}

	.side-nav ul li.active > .navlink-container a {
		@apply text-darkCharcoal;
		@apply font-bold;
		@apply border-l-4 border-meadow;
	}
	.side-nav ul li ul li.active > .navlink-container a {
		@apply border-r-4 border-meadow border-l-0 w-full;
	}
</style>
