---
import Icon from "../shared/components/general/Icon.astro";
import Link from "../shared/components/general/Link.astro";
let pathname = Astro.url.pathname;
const { navStructure, navTitle } = Astro.props;
console.log('navStructure', navStructure);
// import SideNavList from "./SideNavList.astro";
---

<input type="checkbox" id="toggle-nav" class="hidden" />
<label for="toggle-nav" class="toggle-nav-label absolute z-[11] top-3"> </label>
<nav class="side-nav bg-cloud30 p-4">
	<h5 class="border-b border-b-cloud pb-2 text-base">{navTitle}</h5>
	<!-- <SideNavList navStructure={navStructure} /> -->
	<ul class={`pl-4`}>
	{
		navStructure.map((nav) => {
			const navToTrimmed = nav.to.slice(0, -1);
			return (
				<li class={pathname.includes(nav.to) ? "active" : ""}>
					<div class="navlink-container ">
						<Link href={nav.to} class={`list-link hover:text-iris text-sm my-2 pl-1 py-1 pr-3 text-darkCharcoal inline-flex leading-5 ${pathname.endsWith(nav.to) ? "font-semibold" : "text-darkCharcoal"}  ${pathname.endsWith(nav.to) && nav.children ? "border-l-4 border-meadow" : "" }`}>
							{nav.text}
						</Link>
					</div>
				</li>
			);
		})
	}
</ul>
</nav>
