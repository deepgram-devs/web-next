import { c as createAstro, a as createComponent, r as renderTemplate, b as renderHead } from '../entry.mjs';
import Slugger from 'github-slugger';
import '@astrojs/netlify/netlify-functions.js';
import 'preact';
import 'preact-render-to-string';
import 'vue';
import 'vue/server-renderer';
import 'html-escaper';
import 'node-html-parser';
import 'axios';
/* empty css                           *//* empty css                           *//* empty css                           *//* empty css                           *//* empty css                          */import 'clone-deep';
import 'slugify';
import 'shiki';
/* empty css                           */import '@astrojs/rss';
/* empty css                           */import 'mime';
import 'cookie';
import 'kleur/colors';
import 'string-width';
import 'path-browserify';
import 'path-to-regexp';

const metadata = { "headings": [{ "depth": 2, "slug": "generating-transcriptions", "text": "Generating Transcriptions" }, { "depth": 2, "slug": "set-up-a-video-player", "text": "Set Up a Video Player" }, { "depth": 2, "slug": "add-subtitles", "text": "Add Subtitles" }], "source": '\r\nGenerating accurate transcripts is often just the start of a journey. Learn how to use Deepgram\'s best-in-class transcriptions in HTML `<video>` elements.\r\n\r\n## Generating Transcriptions\r\n\r\nTo add subtitles to a HTML `<video>` element requires a WebVTT file. We previously wrote about [generating WebVTT captions with Node.js](https://blog.deepgram.com/generate-webvtt-srt-captions-nodejs/). Assuming you have an MP4 video to transcribe, you can use this snippet to generate a subtitles file:\r\n\r\n```js\r\n// npm install @deepgram/sdk\r\n\r\nconst fs = require(\'fs\')\r\nconst { Deepgram } = require(\'@deepgram/sdk\')\r\nconst deepgram = new Deepgram(\'YOUR_DEEPGRAM_API_KEY\')\r\n\r\nconst fileSource = {\r\n    stream: fs.createReadStream(\'./video.mp4\'),\r\n    mimetype: \'video/mp4\',\r\n}\r\n\r\ndeepgram.transcription.preRecorded(fileSource, {\r\n    punctuate: true,\r\n    utterances: true\r\n}).then(result => {\r\n    fs.writeFileSync(\'captions-en.vtt\', result.toWebVTT());\r\n})\r\n```\r\n\r\nYou will need to replace `YOUR_DEEPGRAM_API_KEY` with a valid key which you can get [for free here](https://console.deepgram.com).\r\n\r\n## Set Up a Video Player\r\n\r\nCreate an `index.html` page:\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n    <body>\r\n        <video controls width="500px">\r\n            <source type="video/mp4" src="video.mp4" >\r\n       </video>\r\n    </body>\r\n</html>\r\n```\r\n\r\nLoad the webpage, and you should see a video player.\r\n\r\n![A webpage with only a video player visible](https://res.cloudinary.com/deepgram/image/upload/v1657806576/blog/2022/07/adding-subtitles-to-html-video-element/video.png)\r\n\r\n## Add Subtitles\r\n\r\nInside of the `<video>` tag add a `<track>` element to represent the caption file:\r\n\r\n```html\r\n<track src="captions-en.vtt" label="English" kind="subtitles" srclang="en" default>\r\n```\r\n\r\n*   The `src` attribute is a filepath. This assumes the file is in the same directory as the HTML file.\r\n*   `label` is shown to the user when selecting which subtitles they want to see.\r\n*   `kind` specifies the type of track. We\'re choosing `subtitles` as these generally just contain spoken words, while `captions` include other important background sounds.\r\n*   `srclang` specifies the language of the file.\r\n*   `default` is honored by Safari, while Chromium-based browsers will try and select a captions file based on the browser\'s language setting.\r\n\r\n![A webpage with only a video player visible. The video player has subtitles.](https://res.cloudinary.com/deepgram/image/upload/v1657806575/blog/2022/07/adding-subtitles-to-html-video-element/subtitles.png)\r\n\r\nYou can add as many subtitle tracks as you want, but only one can have the `default` attribute. For example:\r\n\r\n```html\r\n<video controls width="500px">\r\n    <source type="video/mp4" src="video.mp4" >\r\n    <track src="captions-en.vtt" label="English" kind="subtitles" srclang="en" default >\r\n    <track src="captions-fr.vtt" label="French" kind="subtitles" srclang="fr" >\r\n</video>\r\n```\r\n\r\nAs a final note, if you\'ve not seen [Scott\'s Chili Pepper video](https://blog.deepgram.com/chili-pepper/) which is in the header image for this post - you should. It\'s hilarious. If you have any questions, please feel free to reach out on Twitter - we\'re [@DeepgramDevs](https://twitter.com/DeepgramDevs).\r\n\r\n        ', "html": '<p>Generating accurate transcripts is often just the start of a journey. Learn how to use Deepgram\u2019s best-in-class transcriptions in HTML <code is:raw>&lt;video&gt;</code> elements.</p>\n<h2 id="generating-transcriptions">Generating Transcriptions</h2>\n<p>To add subtitles to a HTML <code is:raw>&lt;video&gt;</code> element requires a WebVTT file. We previously wrote about <a href="https://blog.deepgram.com/generate-webvtt-srt-captions-nodejs/">generating WebVTT captions with Node.js</a>. Assuming you have an MP4 video to transcribe, you can use this snippet to generate a subtitles file:</p>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #8B949E">// npm install @deepgram/sdk</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">fs</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">require</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;fs&#39;</span><span style="color: #C9D1D9">)</span></span>\n<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> { </span><span style="color: #79C0FF">Deepgram</span><span style="color: #C9D1D9"> } </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">require</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;@deepgram/sdk&#39;</span><span style="color: #C9D1D9">)</span></span>\n<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">deepgram</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">new</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">Deepgram</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;YOUR_DEEPGRAM_API_KEY&#39;</span><span style="color: #C9D1D9">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">fileSource</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> {</span></span>\n<span class="line"><span style="color: #C9D1D9">    stream: fs.</span><span style="color: #D2A8FF">createReadStream</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;./video.mp4&#39;</span><span style="color: #C9D1D9">),</span></span>\n<span class="line"><span style="color: #C9D1D9">    mimetype: </span><span style="color: #A5D6FF">&#39;video/mp4&#39;</span><span style="color: #C9D1D9">,</span></span>\n<span class="line"><span style="color: #C9D1D9">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">deepgram.transcription.</span><span style="color: #D2A8FF">preRecorded</span><span style="color: #C9D1D9">(fileSource, {</span></span>\n<span class="line"><span style="color: #C9D1D9">    punctuate: </span><span style="color: #79C0FF">true</span><span style="color: #C9D1D9">,</span></span>\n<span class="line"><span style="color: #C9D1D9">    utterances: </span><span style="color: #79C0FF">true</span></span>\n<span class="line"><span style="color: #C9D1D9">}).</span><span style="color: #D2A8FF">then</span><span style="color: #C9D1D9">(</span><span style="color: #FFA657">result</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=&gt;</span><span style="color: #C9D1D9"> {</span></span>\n<span class="line"><span style="color: #C9D1D9">    fs.</span><span style="color: #D2A8FF">writeFileSync</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;captions-en.vtt&#39;</span><span style="color: #C9D1D9">, result.</span><span style="color: #D2A8FF">toWebVTT</span><span style="color: #C9D1D9">());</span></span>\n<span class="line"><span style="color: #C9D1D9">})</span></span></code></pre>\n<p>You will need to replace <code is:raw>YOUR_DEEPGRAM_API_KEY</code> with a valid key which you can get <a href="https://console.deepgram.com">for free here</a>.</p>\n<h2 id="set-up-a-video-player">Set Up a Video Player</h2>\n<p>Create an <code is:raw>index.html</code> page:</p>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&lt;!</span><span style="color: #7EE787">DOCTYPE</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">html</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">html</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">body</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">        &lt;</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">controls</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">width</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;500px&quot;</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">            &lt;</span><span style="color: #7EE787">source</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video/mp4&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video.mp4&quot;</span><span style="color: #C9D1D9"> &gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">       &lt;/</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;/</span><span style="color: #7EE787">body</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">html</span><span style="color: #C9D1D9">&gt;</span></span></code></pre>\n<p>Load the webpage, and you should see a video player.</p>\n<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1657806576/blog/2022/07/adding-subtitles-to-html-video-element/video.png" alt="A webpage with only a video player visible"></p>\n<h2 id="add-subtitles">Add Subtitles</h2>\n<p>Inside of the <code is:raw>&lt;video&gt;</code> tag add a <code is:raw>&lt;track&gt;</code> element to represent the caption file:</p>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">track</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;captions-en.vtt&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">label</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;English&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">kind</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;subtitles&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">srclang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;en&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">default</span><span style="color: #C9D1D9">&gt;</span></span></code></pre>\n<ul>\n<li>The <code is:raw>src</code> attribute is a filepath. This assumes the file is in the same directory as the HTML file.</li>\n<li><code is:raw>label</code> is shown to the user when selecting which subtitles they want to see.</li>\n<li><code is:raw>kind</code> specifies the type of track. We\u2019re choosing <code is:raw>subtitles</code> as these generally just contain spoken words, while <code is:raw>captions</code> include other important background sounds.</li>\n<li><code is:raw>srclang</code> specifies the language of the file.</li>\n<li><code is:raw>default</code> is honored by Safari, while Chromium-based browsers will try and select a captions file based on the browser\u2019s language setting.</li>\n</ul>\n<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1657806575/blog/2022/07/adding-subtitles-to-html-video-element/subtitles.png" alt="A webpage with only a video player visible. The video player has subtitles."></p>\n<p>You can add as many subtitle tracks as you want, but only one can have the <code is:raw>default</code> attribute. For example:</p>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">controls</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">width</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;500px&quot;</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">source</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video/mp4&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video.mp4&quot;</span><span style="color: #C9D1D9"> &gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">track</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;captions-en.vtt&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">label</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;English&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">kind</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;subtitles&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">srclang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;en&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">default</span><span style="color: #C9D1D9"> &gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">track</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;captions-fr.vtt&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">label</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;French&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">kind</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;subtitles&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">srclang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;fr&quot;</span><span style="color: #C9D1D9"> &gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9">&gt;</span></span></code></pre>\n<p>As a final note, if you\u2019ve not seen <a href="https://blog.deepgram.com/chili-pepper/">Scott\u2019s Chili Pepper video</a> which is in the header image for this post - you should. It\u2019s hilarious. If you have any questions, please feel free to reach out on Twitter - we\u2019re <a href="https://twitter.com/DeepgramDevs">@DeepgramDevs</a>.</p>' };
const frontmatter = { "title": "How to Add Captions and Subtitles to HTML5 Videos", "description": "Generating accurate transcripts is often just the start of a journey. Learn how to use Deepgram's best-in-class transcriptions in HTML Video elements.", "date": "2022-07-28T00:00:00.000Z", "cover": "https://res.cloudinary.com/deepgram/image/upload/v1658998154/blog/2022/07/adding-subtitles-to-html-video-element/post-cover.png", "authors": ["kevin-lewis"], "category": "tutorial", "tags": ["beginner", "javascript"], "seo": { "title": "How to Add Captions and Subtitles to HTML5 Videos", "description": "Generating accurate transcripts is often just the start of a journey. Learn how to use Deepgram's best-in-class transcriptions in HTML Video elements." }, "shorturls": { "share": "https://dpgr.am/0126109", "twitter": "https://dpgr.am/3778ec9", "linkedin": "https://dpgr.am/4f6726f", "reddit": "https://dpgr.am/bbb4eb8", "facebook": "https://dpgr.am/86e87ae" }, "og": { "image": "https://res.cloudinary.com/deepgram/image/upload/v1661454104/blog/adding-subtitles-to-html-video-element/ograph.png" }, "astro": { "headings": [{ "depth": 2, "slug": "generating-transcriptions", "text": "Generating Transcriptions" }, { "depth": 2, "slug": "set-up-a-video-player", "text": "Set Up a Video Player" }, { "depth": 2, "slug": "add-subtitles", "text": "Add Subtitles" }], "source": '\r\nGenerating accurate transcripts is often just the start of a journey. Learn how to use Deepgram\'s best-in-class transcriptions in HTML `<video>` elements.\r\n\r\n## Generating Transcriptions\r\n\r\nTo add subtitles to a HTML `<video>` element requires a WebVTT file. We previously wrote about [generating WebVTT captions with Node.js](https://blog.deepgram.com/generate-webvtt-srt-captions-nodejs/). Assuming you have an MP4 video to transcribe, you can use this snippet to generate a subtitles file:\r\n\r\n```js\r\n// npm install @deepgram/sdk\r\n\r\nconst fs = require(\'fs\')\r\nconst { Deepgram } = require(\'@deepgram/sdk\')\r\nconst deepgram = new Deepgram(\'YOUR_DEEPGRAM_API_KEY\')\r\n\r\nconst fileSource = {\r\n    stream: fs.createReadStream(\'./video.mp4\'),\r\n    mimetype: \'video/mp4\',\r\n}\r\n\r\ndeepgram.transcription.preRecorded(fileSource, {\r\n    punctuate: true,\r\n    utterances: true\r\n}).then(result => {\r\n    fs.writeFileSync(\'captions-en.vtt\', result.toWebVTT());\r\n})\r\n```\r\n\r\nYou will need to replace `YOUR_DEEPGRAM_API_KEY` with a valid key which you can get [for free here](https://console.deepgram.com).\r\n\r\n## Set Up a Video Player\r\n\r\nCreate an `index.html` page:\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n    <body>\r\n        <video controls width="500px">\r\n            <source type="video/mp4" src="video.mp4" >\r\n       </video>\r\n    </body>\r\n</html>\r\n```\r\n\r\nLoad the webpage, and you should see a video player.\r\n\r\n![A webpage with only a video player visible](https://res.cloudinary.com/deepgram/image/upload/v1657806576/blog/2022/07/adding-subtitles-to-html-video-element/video.png)\r\n\r\n## Add Subtitles\r\n\r\nInside of the `<video>` tag add a `<track>` element to represent the caption file:\r\n\r\n```html\r\n<track src="captions-en.vtt" label="English" kind="subtitles" srclang="en" default>\r\n```\r\n\r\n*   The `src` attribute is a filepath. This assumes the file is in the same directory as the HTML file.\r\n*   `label` is shown to the user when selecting which subtitles they want to see.\r\n*   `kind` specifies the type of track. We\'re choosing `subtitles` as these generally just contain spoken words, while `captions` include other important background sounds.\r\n*   `srclang` specifies the language of the file.\r\n*   `default` is honored by Safari, while Chromium-based browsers will try and select a captions file based on the browser\'s language setting.\r\n\r\n![A webpage with only a video player visible. The video player has subtitles.](https://res.cloudinary.com/deepgram/image/upload/v1657806575/blog/2022/07/adding-subtitles-to-html-video-element/subtitles.png)\r\n\r\nYou can add as many subtitle tracks as you want, but only one can have the `default` attribute. For example:\r\n\r\n```html\r\n<video controls width="500px">\r\n    <source type="video/mp4" src="video.mp4" >\r\n    <track src="captions-en.vtt" label="English" kind="subtitles" srclang="en" default >\r\n    <track src="captions-fr.vtt" label="French" kind="subtitles" srclang="fr" >\r\n</video>\r\n```\r\n\r\nAs a final note, if you\'ve not seen [Scott\'s Chili Pepper video](https://blog.deepgram.com/chili-pepper/) which is in the header image for this post - you should. It\'s hilarious. If you have any questions, please feel free to reach out on Twitter - we\'re [@DeepgramDevs](https://twitter.com/DeepgramDevs).\r\n\r\n        ', "html": '<p>Generating accurate transcripts is often just the start of a journey. Learn how to use Deepgram\u2019s best-in-class transcriptions in HTML <code is:raw>&lt;video&gt;</code> elements.</p>\n<h2 id="generating-transcriptions">Generating Transcriptions</h2>\n<p>To add subtitles to a HTML <code is:raw>&lt;video&gt;</code> element requires a WebVTT file. We previously wrote about <a href="https://blog.deepgram.com/generate-webvtt-srt-captions-nodejs/">generating WebVTT captions with Node.js</a>. Assuming you have an MP4 video to transcribe, you can use this snippet to generate a subtitles file:</p>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #8B949E">// npm install @deepgram/sdk</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">fs</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">require</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;fs&#39;</span><span style="color: #C9D1D9">)</span></span>\n<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> { </span><span style="color: #79C0FF">Deepgram</span><span style="color: #C9D1D9"> } </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">require</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;@deepgram/sdk&#39;</span><span style="color: #C9D1D9">)</span></span>\n<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">deepgram</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">new</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">Deepgram</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;YOUR_DEEPGRAM_API_KEY&#39;</span><span style="color: #C9D1D9">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">fileSource</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> {</span></span>\n<span class="line"><span style="color: #C9D1D9">    stream: fs.</span><span style="color: #D2A8FF">createReadStream</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;./video.mp4&#39;</span><span style="color: #C9D1D9">),</span></span>\n<span class="line"><span style="color: #C9D1D9">    mimetype: </span><span style="color: #A5D6FF">&#39;video/mp4&#39;</span><span style="color: #C9D1D9">,</span></span>\n<span class="line"><span style="color: #C9D1D9">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">deepgram.transcription.</span><span style="color: #D2A8FF">preRecorded</span><span style="color: #C9D1D9">(fileSource, {</span></span>\n<span class="line"><span style="color: #C9D1D9">    punctuate: </span><span style="color: #79C0FF">true</span><span style="color: #C9D1D9">,</span></span>\n<span class="line"><span style="color: #C9D1D9">    utterances: </span><span style="color: #79C0FF">true</span></span>\n<span class="line"><span style="color: #C9D1D9">}).</span><span style="color: #D2A8FF">then</span><span style="color: #C9D1D9">(</span><span style="color: #FFA657">result</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=&gt;</span><span style="color: #C9D1D9"> {</span></span>\n<span class="line"><span style="color: #C9D1D9">    fs.</span><span style="color: #D2A8FF">writeFileSync</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;captions-en.vtt&#39;</span><span style="color: #C9D1D9">, result.</span><span style="color: #D2A8FF">toWebVTT</span><span style="color: #C9D1D9">());</span></span>\n<span class="line"><span style="color: #C9D1D9">})</span></span></code></pre>\n<p>You will need to replace <code is:raw>YOUR_DEEPGRAM_API_KEY</code> with a valid key which you can get <a href="https://console.deepgram.com">for free here</a>.</p>\n<h2 id="set-up-a-video-player">Set Up a Video Player</h2>\n<p>Create an <code is:raw>index.html</code> page:</p>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&lt;!</span><span style="color: #7EE787">DOCTYPE</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">html</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">html</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">body</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">        &lt;</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">controls</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">width</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;500px&quot;</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">            &lt;</span><span style="color: #7EE787">source</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video/mp4&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video.mp4&quot;</span><span style="color: #C9D1D9"> &gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">       &lt;/</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;/</span><span style="color: #7EE787">body</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">html</span><span style="color: #C9D1D9">&gt;</span></span></code></pre>\n<p>Load the webpage, and you should see a video player.</p>\n<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1657806576/blog/2022/07/adding-subtitles-to-html-video-element/video.png" alt="A webpage with only a video player visible"></p>\n<h2 id="add-subtitles">Add Subtitles</h2>\n<p>Inside of the <code is:raw>&lt;video&gt;</code> tag add a <code is:raw>&lt;track&gt;</code> element to represent the caption file:</p>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">track</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;captions-en.vtt&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">label</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;English&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">kind</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;subtitles&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">srclang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;en&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">default</span><span style="color: #C9D1D9">&gt;</span></span></code></pre>\n<ul>\n<li>The <code is:raw>src</code> attribute is a filepath. This assumes the file is in the same directory as the HTML file.</li>\n<li><code is:raw>label</code> is shown to the user when selecting which subtitles they want to see.</li>\n<li><code is:raw>kind</code> specifies the type of track. We\u2019re choosing <code is:raw>subtitles</code> as these generally just contain spoken words, while <code is:raw>captions</code> include other important background sounds.</li>\n<li><code is:raw>srclang</code> specifies the language of the file.</li>\n<li><code is:raw>default</code> is honored by Safari, while Chromium-based browsers will try and select a captions file based on the browser\u2019s language setting.</li>\n</ul>\n<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1657806575/blog/2022/07/adding-subtitles-to-html-video-element/subtitles.png" alt="A webpage with only a video player visible. The video player has subtitles."></p>\n<p>You can add as many subtitle tracks as you want, but only one can have the <code is:raw>default</code> attribute. For example:</p>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">controls</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">width</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;500px&quot;</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">source</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video/mp4&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video.mp4&quot;</span><span style="color: #C9D1D9"> &gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">track</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;captions-en.vtt&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">label</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;English&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">kind</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;subtitles&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">srclang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;en&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">default</span><span style="color: #C9D1D9"> &gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">track</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;captions-fr.vtt&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">label</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;French&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">kind</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;subtitles&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">srclang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;fr&quot;</span><span style="color: #C9D1D9"> &gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9">&gt;</span></span></code></pre>\n<p>As a final note, if you\u2019ve not seen <a href="https://blog.deepgram.com/chili-pepper/">Scott\u2019s Chili Pepper video</a> which is in the header image for this post - you should. It\u2019s hilarious. If you have any questions, please feel free to reach out on Twitter - we\u2019re <a href="https://twitter.com/DeepgramDevs">@DeepgramDevs</a>.</p>' }, "file": "/Users/sandrarodgers/web-next/blog/src/content/blog/posts/adding-subtitles-to-html-video-element/index.md" };
function rawContent() {
  return '\r\nGenerating accurate transcripts is often just the start of a journey. Learn how to use Deepgram\'s best-in-class transcriptions in HTML `<video>` elements.\r\n\r\n## Generating Transcriptions\r\n\r\nTo add subtitles to a HTML `<video>` element requires a WebVTT file. We previously wrote about [generating WebVTT captions with Node.js](https://blog.deepgram.com/generate-webvtt-srt-captions-nodejs/). Assuming you have an MP4 video to transcribe, you can use this snippet to generate a subtitles file:\r\n\r\n```js\r\n// npm install @deepgram/sdk\r\n\r\nconst fs = require(\'fs\')\r\nconst { Deepgram } = require(\'@deepgram/sdk\')\r\nconst deepgram = new Deepgram(\'YOUR_DEEPGRAM_API_KEY\')\r\n\r\nconst fileSource = {\r\n    stream: fs.createReadStream(\'./video.mp4\'),\r\n    mimetype: \'video/mp4\',\r\n}\r\n\r\ndeepgram.transcription.preRecorded(fileSource, {\r\n    punctuate: true,\r\n    utterances: true\r\n}).then(result => {\r\n    fs.writeFileSync(\'captions-en.vtt\', result.toWebVTT());\r\n})\r\n```\r\n\r\nYou will need to replace `YOUR_DEEPGRAM_API_KEY` with a valid key which you can get [for free here](https://console.deepgram.com).\r\n\r\n## Set Up a Video Player\r\n\r\nCreate an `index.html` page:\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n    <body>\r\n        <video controls width="500px">\r\n            <source type="video/mp4" src="video.mp4" >\r\n       </video>\r\n    </body>\r\n</html>\r\n```\r\n\r\nLoad the webpage, and you should see a video player.\r\n\r\n![A webpage with only a video player visible](https://res.cloudinary.com/deepgram/image/upload/v1657806576/blog/2022/07/adding-subtitles-to-html-video-element/video.png)\r\n\r\n## Add Subtitles\r\n\r\nInside of the `<video>` tag add a `<track>` element to represent the caption file:\r\n\r\n```html\r\n<track src="captions-en.vtt" label="English" kind="subtitles" srclang="en" default>\r\n```\r\n\r\n*   The `src` attribute is a filepath. This assumes the file is in the same directory as the HTML file.\r\n*   `label` is shown to the user when selecting which subtitles they want to see.\r\n*   `kind` specifies the type of track. We\'re choosing `subtitles` as these generally just contain spoken words, while `captions` include other important background sounds.\r\n*   `srclang` specifies the language of the file.\r\n*   `default` is honored by Safari, while Chromium-based browsers will try and select a captions file based on the browser\'s language setting.\r\n\r\n![A webpage with only a video player visible. The video player has subtitles.](https://res.cloudinary.com/deepgram/image/upload/v1657806575/blog/2022/07/adding-subtitles-to-html-video-element/subtitles.png)\r\n\r\nYou can add as many subtitle tracks as you want, but only one can have the `default` attribute. For example:\r\n\r\n```html\r\n<video controls width="500px">\r\n    <source type="video/mp4" src="video.mp4" >\r\n    <track src="captions-en.vtt" label="English" kind="subtitles" srclang="en" default >\r\n    <track src="captions-fr.vtt" label="French" kind="subtitles" srclang="fr" >\r\n</video>\r\n```\r\n\r\nAs a final note, if you\'ve not seen [Scott\'s Chili Pepper video](https://blog.deepgram.com/chili-pepper/) which is in the header image for this post - you should. It\'s hilarious. If you have any questions, please feel free to reach out on Twitter - we\'re [@DeepgramDevs](https://twitter.com/DeepgramDevs).\r\n\r\n        ';
}
function compiledContent() {
  return '<p>Generating accurate transcripts is often just the start of a journey. Learn how to use Deepgram\u2019s best-in-class transcriptions in HTML <code is:raw>&lt;video&gt;</code> elements.</p>\n<h2 id="generating-transcriptions">Generating Transcriptions</h2>\n<p>To add subtitles to a HTML <code is:raw>&lt;video&gt;</code> element requires a WebVTT file. We previously wrote about <a href="https://blog.deepgram.com/generate-webvtt-srt-captions-nodejs/">generating WebVTT captions with Node.js</a>. Assuming you have an MP4 video to transcribe, you can use this snippet to generate a subtitles file:</p>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #8B949E">// npm install @deepgram/sdk</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">fs</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">require</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;fs&#39;</span><span style="color: #C9D1D9">)</span></span>\n<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> { </span><span style="color: #79C0FF">Deepgram</span><span style="color: #C9D1D9"> } </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">require</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;@deepgram/sdk&#39;</span><span style="color: #C9D1D9">)</span></span>\n<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">deepgram</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">new</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">Deepgram</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;YOUR_DEEPGRAM_API_KEY&#39;</span><span style="color: #C9D1D9">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">fileSource</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> {</span></span>\n<span class="line"><span style="color: #C9D1D9">    stream: fs.</span><span style="color: #D2A8FF">createReadStream</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;./video.mp4&#39;</span><span style="color: #C9D1D9">),</span></span>\n<span class="line"><span style="color: #C9D1D9">    mimetype: </span><span style="color: #A5D6FF">&#39;video/mp4&#39;</span><span style="color: #C9D1D9">,</span></span>\n<span class="line"><span style="color: #C9D1D9">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">deepgram.transcription.</span><span style="color: #D2A8FF">preRecorded</span><span style="color: #C9D1D9">(fileSource, {</span></span>\n<span class="line"><span style="color: #C9D1D9">    punctuate: </span><span style="color: #79C0FF">true</span><span style="color: #C9D1D9">,</span></span>\n<span class="line"><span style="color: #C9D1D9">    utterances: </span><span style="color: #79C0FF">true</span></span>\n<span class="line"><span style="color: #C9D1D9">}).</span><span style="color: #D2A8FF">then</span><span style="color: #C9D1D9">(</span><span style="color: #FFA657">result</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=&gt;</span><span style="color: #C9D1D9"> {</span></span>\n<span class="line"><span style="color: #C9D1D9">    fs.</span><span style="color: #D2A8FF">writeFileSync</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;captions-en.vtt&#39;</span><span style="color: #C9D1D9">, result.</span><span style="color: #D2A8FF">toWebVTT</span><span style="color: #C9D1D9">());</span></span>\n<span class="line"><span style="color: #C9D1D9">})</span></span></code></pre>\n<p>You will need to replace <code is:raw>YOUR_DEEPGRAM_API_KEY</code> with a valid key which you can get <a href="https://console.deepgram.com">for free here</a>.</p>\n<h2 id="set-up-a-video-player">Set Up a Video Player</h2>\n<p>Create an <code is:raw>index.html</code> page:</p>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&lt;!</span><span style="color: #7EE787">DOCTYPE</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">html</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">html</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">body</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">        &lt;</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">controls</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">width</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;500px&quot;</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">            &lt;</span><span style="color: #7EE787">source</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video/mp4&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video.mp4&quot;</span><span style="color: #C9D1D9"> &gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">       &lt;/</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;/</span><span style="color: #7EE787">body</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">html</span><span style="color: #C9D1D9">&gt;</span></span></code></pre>\n<p>Load the webpage, and you should see a video player.</p>\n<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1657806576/blog/2022/07/adding-subtitles-to-html-video-element/video.png" alt="A webpage with only a video player visible"></p>\n<h2 id="add-subtitles">Add Subtitles</h2>\n<p>Inside of the <code is:raw>&lt;video&gt;</code> tag add a <code is:raw>&lt;track&gt;</code> element to represent the caption file:</p>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">track</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;captions-en.vtt&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">label</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;English&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">kind</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;subtitles&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">srclang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;en&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">default</span><span style="color: #C9D1D9">&gt;</span></span></code></pre>\n<ul>\n<li>The <code is:raw>src</code> attribute is a filepath. This assumes the file is in the same directory as the HTML file.</li>\n<li><code is:raw>label</code> is shown to the user when selecting which subtitles they want to see.</li>\n<li><code is:raw>kind</code> specifies the type of track. We\u2019re choosing <code is:raw>subtitles</code> as these generally just contain spoken words, while <code is:raw>captions</code> include other important background sounds.</li>\n<li><code is:raw>srclang</code> specifies the language of the file.</li>\n<li><code is:raw>default</code> is honored by Safari, while Chromium-based browsers will try and select a captions file based on the browser\u2019s language setting.</li>\n</ul>\n<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1657806575/blog/2022/07/adding-subtitles-to-html-video-element/subtitles.png" alt="A webpage with only a video player visible. The video player has subtitles."></p>\n<p>You can add as many subtitle tracks as you want, but only one can have the <code is:raw>default</code> attribute. For example:</p>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">controls</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">width</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;500px&quot;</span><span style="color: #C9D1D9">&gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">source</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video/mp4&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video.mp4&quot;</span><span style="color: #C9D1D9"> &gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">track</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;captions-en.vtt&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">label</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;English&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">kind</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;subtitles&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">srclang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;en&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">default</span><span style="color: #C9D1D9"> &gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">track</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;captions-fr.vtt&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">label</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;French&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">kind</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;subtitles&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">srclang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;fr&quot;</span><span style="color: #C9D1D9"> &gt;</span></span>\n<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9">&gt;</span></span></code></pre>\n<p>As a final note, if you\u2019ve not seen <a href="https://blog.deepgram.com/chili-pepper/">Scott\u2019s Chili Pepper video</a> which is in the header image for this post - you should. It\u2019s hilarious. If you have any questions, please feel free to reach out on Twitter - we\u2019re <a href="https://twitter.com/DeepgramDevs">@DeepgramDevs</a>.</p>';
}
const $$Astro = createAstro("/Users/sandrarodgers/web-next/blog/src/content/blog/posts/adding-subtitles-to-html-video-element/index.md", "", "file:///Users/sandrarodgers/web-next/blog/");
const $$Index = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$Index;
  new Slugger();
  return renderTemplate`<head>${renderHead($$result)}</head><p>Generating accurate transcripts is often just the start of a journey. Learn how to use Deepgram’s best-in-class transcriptions in HTML <code>&lt;video&gt;</code> elements.</p>
<h2 id="generating-transcriptions">Generating Transcriptions</h2>
<p>To add subtitles to a HTML <code>&lt;video&gt;</code> element requires a WebVTT file. We previously wrote about <a href="https://blog.deepgram.com/generate-webvtt-srt-captions-nodejs/">generating WebVTT captions with Node.js</a>. Assuming you have an MP4 video to transcribe, you can use this snippet to generate a subtitles file:</p>
<pre class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #8B949E">// npm install @deepgram/sdk</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">fs</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">require</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;fs&#39;</span><span style="color: #C9D1D9">)</span></span>
<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> { </span><span style="color: #79C0FF">Deepgram</span><span style="color: #C9D1D9"> } </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">require</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;@deepgram/sdk&#39;</span><span style="color: #C9D1D9">)</span></span>
<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">deepgram</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">new</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">Deepgram</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;YOUR_DEEPGRAM_API_KEY&#39;</span><span style="color: #C9D1D9">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">fileSource</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">    stream: fs.</span><span style="color: #D2A8FF">createReadStream</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;./video.mp4&#39;</span><span style="color: #C9D1D9">),</span></span>
<span class="line"><span style="color: #C9D1D9">    mimetype: </span><span style="color: #A5D6FF">&#39;video/mp4&#39;</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">deepgram.transcription.</span><span style="color: #D2A8FF">preRecorded</span><span style="color: #C9D1D9">(fileSource, {</span></span>
<span class="line"><span style="color: #C9D1D9">    punctuate: </span><span style="color: #79C0FF">true</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">    utterances: </span><span style="color: #79C0FF">true</span></span>
<span class="line"><span style="color: #C9D1D9">}).</span><span style="color: #D2A8FF">then</span><span style="color: #C9D1D9">(</span><span style="color: #FFA657">result</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=&gt;</span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">    fs.</span><span style="color: #D2A8FF">writeFileSync</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&#39;captions-en.vtt&#39;</span><span style="color: #C9D1D9">, result.</span><span style="color: #D2A8FF">toWebVTT</span><span style="color: #C9D1D9">());</span></span>
<span class="line"><span style="color: #C9D1D9">})</span></span></code></pre>
<p>You will need to replace <code>YOUR_DEEPGRAM_API_KEY</code> with a valid key which you can get <a href="https://console.deepgram.com">for free here</a>.</p>
<h2 id="set-up-a-video-player">Set Up a Video Player</h2>
<p>Create an <code>index.html</code> page:</p>
<pre class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&lt;!</span><span style="color: #7EE787">DOCTYPE</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">html</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">html</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">body</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">        &lt;</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">controls</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">width</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;500px&quot;</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">            &lt;</span><span style="color: #7EE787">source</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video/mp4&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video.mp4&quot;</span><span style="color: #C9D1D9"> &gt;</span></span>
<span class="line"><span style="color: #C9D1D9">       &lt;/</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">    &lt;/</span><span style="color: #7EE787">body</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">html</span><span style="color: #C9D1D9">&gt;</span></span></code></pre>
<p>Load the webpage, and you should see a video player.</p>
<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1657806576/blog/2022/07/adding-subtitles-to-html-video-element/video.png" alt="A webpage with only a video player visible"></p>
<h2 id="add-subtitles">Add Subtitles</h2>
<p>Inside of the <code>&lt;video&gt;</code> tag add a <code>&lt;track&gt;</code> element to represent the caption file:</p>
<pre class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">track</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;captions-en.vtt&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">label</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;English&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">kind</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;subtitles&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">srclang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;en&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">default</span><span style="color: #C9D1D9">&gt;</span></span></code></pre>
<ul>
<li>The <code>src</code> attribute is a filepath. This assumes the file is in the same directory as the HTML file.</li>
<li><code>label</code> is shown to the user when selecting which subtitles they want to see.</li>
<li><code>kind</code> specifies the type of track. We’re choosing <code>subtitles</code> as these generally just contain spoken words, while <code>captions</code> include other important background sounds.</li>
<li><code>srclang</code> specifies the language of the file.</li>
<li><code>default</code> is honored by Safari, while Chromium-based browsers will try and select a captions file based on the browser’s language setting.</li>
</ul>
<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1657806575/blog/2022/07/adding-subtitles-to-html-video-element/subtitles.png" alt="A webpage with only a video player visible. The video player has subtitles."></p>
<p>You can add as many subtitle tracks as you want, but only one can have the <code>default</code> attribute. For example:</p>
<pre class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">controls</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">width</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;500px&quot;</span><span style="color: #C9D1D9">&gt;</span></span>
<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">source</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video/mp4&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;video.mp4&quot;</span><span style="color: #C9D1D9"> &gt;</span></span>
<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">track</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;captions-en.vtt&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">label</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;English&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">kind</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;subtitles&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">srclang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;en&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">default</span><span style="color: #C9D1D9"> &gt;</span></span>
<span class="line"><span style="color: #C9D1D9">    &lt;</span><span style="color: #7EE787">track</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;captions-fr.vtt&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">label</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;French&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">kind</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;subtitles&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">srclang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;fr&quot;</span><span style="color: #C9D1D9"> &gt;</span></span>
<span class="line"><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">video</span><span style="color: #C9D1D9">&gt;</span></span></code></pre>
<p>As a final note, if you’ve not seen <a href="https://blog.deepgram.com/chili-pepper/">Scott’s Chili Pepper video</a> which is in the header image for this post - you should. It’s hilarious. If you have any questions, please feel free to reach out on Twitter - we’re <a href="https://twitter.com/DeepgramDevs">@DeepgramDevs</a>.</p>`;
}, "/Users/sandrarodgers/web-next/blog/src/content/blog/posts/adding-subtitles-to-html-video-element/index.md");

export { compiledContent, $$Index as default, frontmatter, metadata, rawContent };
